{
  "active": false,
  "connections": {
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        []
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory1": {
      "ai_memory": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory2": {
      "ai_memory": [
        [
          {
            "node": "AI Agent2",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          },
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          },
          {
            "node": "AI Agent2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent2",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent2": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Edit Fields3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent1": {
      "main": [
        [
          {
            "node": "Edit Fields2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields2": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Edit Fields3": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 2
          }
        ]
      ]
    }
  },
  "createdAt": "2025-07-12T06:29:03.059Z",
  "id": "42SloZx1xfkMPKXI",
  "isArchived": false,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "bac-si-case1",
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -340,
        -180
      ],
      "id": "86152748-fb17-4725-bce4-6b89a3ae5c7a",
      "name": "When clicking ‘Execute workflow’"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        -460,
        120
      ],
      "id": "23ebf8e6-5ae4-4ceb-8a50-524b5e069aed",
      "name": "When chat message received",
      "webhookId": "6ef948b7-f387-4136-9669-863a77ec8b0d"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        220,
        140
      ],
      "id": "e3582c54-84b3-413f-a8f0-23f578c4699f",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        180,
        300
      ],
      "id": "b3ce3857-02e5-4da1-9360-528f7a0b615a",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "7fhytiSkpwvm2Ghp",
          "name": "Google Gemini(PaLM) Api account 4"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        340,
        300
      ],
      "id": "334add2f-6642-4e1e-9dd5-a4a62c38ceb6",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        220,
        -180
      ],
      "id": "3a8a69e9-d3fb-4813-9486-b4d89b5cb562",
      "name": "AI Agent1"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        340,
        -20
      ],
      "id": "db1e730d-fe74-4367-bf85-884437b7fed9",
      "name": "Simple Memory1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        220,
        -480
      ],
      "id": "0e0c2313-e419-442c-9c82-cca0bd013a1f",
      "name": "AI Agent2"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        340,
        -320
      ],
      "id": "1cc25c6b-2cca-4c4f-8060-21515872d04e",
      "name": "Simple Memory2"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "dbda21a9-44d6-4fb6-b7c0-295d060c6c9e",
              "name": "Lý do khám bệnh",
              "value": "Khó thở tăng dần kèm theo ho khan kéo dài",
              "type": "string"
            },
            {
              "id": "22cb5c7d-d008-4aa6-bdd9-ae2a13f48a5d",
              "name": "Tiền sử",
              "value": "Bản thân:  Tăng huyết áp 5 năm, điều trị không đều.  Hút thuốc lá 20 năm (20 gói-năm), đã ngưng 6 tháng.  Không đái tháo đường, không rối loạn lipid máu đã biết.  Không dị ứng thuốc.  Gia đình:  Cha có tiền sử bệnh phổi tắc nghẽn mạn tính (COPD).  Mẹ bị đái tháo đường type 2.",
              "type": "string"
            },
            {
              "id": "54407c63-79ca-49de-b2fb-c957137e09f3",
              "name": "Bệnh sử",
              "value": "Cách đây khoảng 3 tháng, bệnh nhân bắt đầu xuất hiện ho khan kéo dài, không đàm, thường vào buổi sáng.  Khoảng 3 tuần trở lại đây, xuất hiện khó thở khi gắng sức, tăng dần, kèm cảm giác nặng ngực, không đau thắt ngực.  Không sốt, không đau họng, không giảm cân rõ rệt.  Bệnh nhân tự mua thuốc ho uống nhưng không cải thiện.  Không nhập viện gần đây.",
              "type": "string"
            },
            {
              "id": "d0d75af7-3058-4760-b792-94ba09648f4c",
              "name": "Khám lâm sàng",
              "value": "Tổng trạng: tỉnh táo, tiếp xúc tốt, thể trạng trung bình.  \nDấu hiệu sinh tồn:  Huyết áp: 150/95 mmHg  Mạch: 92 lần/phút  Nhiệt độ: 36.8°C  Nhịp thở: 22 lần/phút  SpO₂: 94% khí phòng  \nHô hấp:  Gõ trong, rì rào phế nang giảm đều 2 bên.  Có rale rít hai phế trường, đặc biệt vùng đáy phổi.  \nTim mạch:  Nhịp đều, không âm thổi.  Không có dấu hiệu suy tim phải (phù, tĩnh mạch cổ nổi).  \nTiêu hóa: bụng mềm, gan lách không lớn.  \nThần kinh – cơ – xương khớp: không yếu liệt, không run, không cứng cơ.",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -120,
        -180
      ],
      "id": "84898882-5093-42ec-bcd3-99ebca44b035",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        180,
        -20
      ],
      "id": "a19a7013-bcb4-4fe1-974a-efbe750af48c",
      "name": "Google Gemini Chat Model1",
      "credentials": {
        "googlePalmApi": {
          "id": "7fhytiSkpwvm2Ghp",
          "name": "Google Gemini(PaLM) Api account 4"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        180,
        -320
      ],
      "id": "8424cbfa-3874-4879-8380-474420ebbb87",
      "name": "Google Gemini Chat Model2",
      "credentials": {
        "googlePalmApi": {
          "id": "7fhytiSkpwvm2Ghp",
          "name": "Google Gemini(PaLM) Api account 4"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        580,
        -480
      ],
      "id": "78fa0074-8a76-45ea-879b-7aa0c56321c0",
      "name": "Edit Fields1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        580,
        -180
      ],
      "id": "66d5e2c9-10a7-459f-8309-6fc64f9ce272",
      "name": "Edit Fields2"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        580,
        140
      ],
      "id": "0f386ce4-089e-4df8-a0b3-8965b8f4cc74",
      "name": "Edit Fields3"
    },
    {
      "parameters": {
        "numberInputs": 3
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        800,
        -180
      ],
      "id": "b0269550-ac46-415f-a358-3864b0142af4",
      "name": "Merge"
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-07-12T06:29:53.000Z",
  "versionId": "90588527-e3a3-41e6-b07d-b786a7fb302a"
}